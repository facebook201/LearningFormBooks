#### 3.4 null 和 undefined

null 表示一个特殊的对象值。它是一个对象、通常认为它是有类型和唯一一个成员，可以表示数字、字符串、对象。

undefined：表示值是空缺的。它是变量的一种取值 表面变量没有初始化 或 没有这个变量。

* 如果函数没有返回值是返回undefined

* 引用没有提供实参的函数形式参数也会得到undefined。它是全局变量不是关键字。

  ```javascript
  ;(function(win, undefined){
    //  这里第二个参数实参没有传 但是形成里面有。就会形成局部的undefined
  })(window);
  ```



#### 3.5 全局对象

全局对象的属性是全局定义的，可以直接使用。当javascript解释器启动的时候，会创建一个新的全局对象，并给一组定义的初始属性。

* 全局属性 undefiend  NaN
* 全局函数 isNaN parseInt 
* 构造函数 Date、RegExp、String、Object() Array()
* 全局对象 Math JSON



#### 3.6 包装对象

javascript对象是一种复合值。属性或已命名值的集合。通过.符号来引用属性值。当属性值是一个函数的时候，成为方法。举个例子

```javascript
var s = 'string';
var word = s.subString(s.indexOf(' ') + 1, s.length);
var S = new String(S);
var B = new Boolean(B);
var N = new Number(N);
```

显示创建的包装对象。在 === 的时候跟普通的是不同的。 typeof可以看出来。他们是对象。



#### 3.7   不可变的原始值和可变的对象引用

**js里面的原始值 是无法改变的。** 字符串看起来像是字符的数组。但是javascript是禁止去修改字符串的，看上去是修改后的字符串 其实是返回一个新的字符串值。 

 两个单独的对象和数组都是不相等。只有当且仅当他们引用同一个基对象时，才相等。

```javascript
var a = [];
var b = a;
a === b; // true
// 这里是赋值的引用值，对象本身没有复制一次 如果你想得到一个对象或数组的副本，则必须显示复制对象的每个属性或数组的每个元素。

function equalArrays(a, b) {
  if (a.length != b.length) return false; // 两个长度不相等
  for (let i = 0; i < a.length; i++) {
    if (a[i] !== b[i]) return false; //  如果有任意不相等 数组不相等
  }
  return true;
}
```



#### 3.8.1  类型转换

Number类为这种数字到字符串的类型转换。

* toFixed(); // 参数跟后面返回的小数位数 返回一个字符串。



#### 对象转换为原始值 toString valueOf 

对象转换到布尔值的转换非常简单。所有的对象都转换为true。对于包装对象也是如此；new Boolean(false) 是一个对象，他将转换为true。 

所有的对象继承了两个转换方法，**toString**是返回 一个反映这个对象的字符串。默认的toString不会返回一个有趣的值。  但是这个值非常有用。另一个是**valueOf**方法。如果存在任意原始值 他就默认将转换为表示它的原始值。一般valueOf 会简单的返回对象本身。**日期类定义的valueOf方法会返回它的一个内部表示 毫秒数**

```javascript
var obj = {};
obj.toString(); // '[Object object]'
obj.valueOf(); // object {}
```



javascript**对象到字符串**的转换过程

* 如果对象具有toString() 方法、则调用这个方法。如果返回一个原始值 直接转换为一个字符串，并返回这个字符串结果。
* 如果对象没有toString方法。或这个方法并不返回一个原始值，那么js会调用valueOf方法。如果存在就会调用这个方法，如果返回的是一个原始值、js就会将这个原始值转换为字符串。

javascript对象到数字的转换

* 如果对象具有valueOf 首先调用valueOf。返回一个原始值 再转换为数字(言外之意就是如果他返回的是一个对象 就执行toString)。
* 否则 如果具有toString（）方法后者返回一个原始值。 

这里就解释了为什么空数组会返回0，以及单个元素的数组会返回一个数字。**数组默认继承了valueOf 方法。这个返回一个对象而不是一个原始值。因此数组到数字的转换则调用toString() 方法**。空数组转换成空字符串，空字符串转化成数字0.