
### JavaScript 构造函数

```javascript

function Book(name) {
  if (!(this instanceof Book)) {
    return new Book(name);
  }
}

var book = new Book(name);

```

#### new 的工作原理

* 创建一个新的对象： var book = {};
* 设置对象的 __proto__ 指向构造函数的prototype： book.__proto__ = Book.prototype;
* 执行Book函数 并且让this指向book对象
* 判断Book返回值的类型：
* 将原型的constructor属性 指向构造函数 Book.prototype.construtor = Book;

原型链的继承注意一点：

```javascript

BMW.prototype = Object.create(Car.prototype);

```
